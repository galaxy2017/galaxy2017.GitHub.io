<!doctype html>
<html lang="zh-Hans" dir="ltr" class="blog-wrapper blog-post-page plugin-blog plugin-id-default">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.2.0">
<title data-rh="true">解决NVIDIA 30/40系列显卡与tensorflow 1.15 不兼容的问题 | 胖螺</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://blog.luomoe.com/blog/Technology20230729"><meta data-rh="true" name="docusaurus_locale" content="zh-Hans"><meta data-rh="true" name="docusaurus_tag" content="default"><meta data-rh="true" name="docsearch:language" content="zh-Hans"><meta data-rh="true" name="docsearch:docusaurus_tag" content="default"><meta data-rh="true" name="keywords" content="胖螺,JavaScript,python,tensorflow,nvidia"><meta data-rh="true" property="og:title" content="解决NVIDIA 30/40系列显卡与tensorflow 1.15 不兼容的问题 | 胖螺"><meta data-rh="true" name="description" content="问题起因"><meta data-rh="true" property="og:description" content="问题起因"><meta data-rh="true" property="og:type" content="article"><meta data-rh="true" property="article:published_time" content="2023-07-29T07:52:16.000Z"><meta data-rh="true" property="article:author" content="https://luomoe.com"><meta data-rh="true" property="article:tag" content="tensorflow,NVIDIA,RTX4090,RTX3090,AI"><link data-rh="true" rel="icon" href="https://img.up.cdn.nahida.cn/2020/03/cropped-logo2-1.png"><link data-rh="true" rel="canonical" href="https://blog.luomoe.com/blog/Technology20230729"><link data-rh="true" rel="alternate" href="https://blog.luomoe.com/blog/Technology20230729" hreflang="zh-Hans"><link data-rh="true" rel="alternate" href="https://blog.luomoe.com/blog/Technology20230729" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="胖螺 RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="胖螺 Atom Feed"><link rel="stylesheet" href="/assets/css/styles.dfc5b64c.css">
<link rel="preload" href="/assets/js/runtime~main.b2abe4ed.js" as="script">
<link rel="preload" href="/assets/js/main.cf17977a.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="跳到主要内容"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">跳到主要内容</a></div><nav class="navbar navbar--fixed-top navbarHideable_m1mJ"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="https://img.up.cdn.nahida.cn/2020/03/cropped-logo2-1.png" alt="胖螺" class="themedImage_ToTc themedImage--light_HNdA"><img src="https://img.up.cdn.nahida.cn/2020/03/cropped-logo2-1.png" alt="胖螺" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">胖螺</b></a></div><div class="navbar__items navbar__items--right"><div class="searchBox_ZlJk"><div class="navbar__search searchBarContainer_NW3z"><input placeholder="搜索" aria-label="Search" class="navbar__search-input"><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div></div></div><a class="navbar__item navbar__link" href="/docs/intro">笔记</a><a class="navbar__item navbar__link" href="/blog/welcome">博客</a><a class="navbar__item navbar__link" href="/blog/links">友链</a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="切换浅色/暗黑模式（当前为浅色模式）" aria-label="切换浅色/暗黑模式（当前为浅色模式）" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_re4s thin-scrollbar" aria-label="最近博文导航"><div class="sidebarItemTitle_pO2u margin-bottom--md">Recent posts</div><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/IoV202307">边缘计算相关论文笔记（2023年7月）</a></li><li class="sidebarItem__DBe"><a aria-current="page" class="sidebarItemLink_mo7H sidebarItemLinkActive_I1ZP" href="/blog/Technology20230729">解决NVIDIA 30/40系列显卡与tensorflow 1.15 不兼容的问题</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/IoV202306">边缘计算相关论文笔记（2023年6月）</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/IoV202305">边缘计算相关论文笔记（2023年5月）</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/links">友情链接</a></li></ul></nav></aside><main class="col col--7" itemscope="" itemtype="http://schema.org/Blog"><article itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h1 class="title_f1Hy" itemprop="headline">解决NVIDIA 30/40系列显卡与tensorflow 1.15 不兼容的问题</h1><div class="container_mt6G margin-vert--md"><time datetime="2023-07-29T07:52:16.000Z" itemprop="datePublished">2023年7月29日</time> · <!-- -->阅读需 7 分钟</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://luomoe.com" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://img.up.cdn.nahida.cn/2020/03/cropped-logo2-1.png" alt="Pangluo"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://luomoe.com" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Pangluo</span></a></div><small class="avatar__subtitle" itemprop="description">A salted fish</small></div></div></div></div></header><div id="post-content" class="markdown" itemprop="articleBody"><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="问题起因">问题起因<a class="hash-link" href="#问题起因" title="标题的直接链接">​</a></h2><p>因为显卡与显卡驱动、CUDA版本以及cuDNN版本有着非常严格的依赖关系。</p><blockquote><p>CUDA是NVIDIA推出的用于自家GPU的并行计算框架，也就是说CUDA只能在NVIDIA的GPU上运行，而且只有当要解决的计算问题是可以大量并行计算的时候才能发挥CUDA的作用。cuDNN是NVIDIA打造的针对深度神经网络的加速库，是一个用于深层神经网络的GPU加速库。如果你要用GPU训练模型，cuDNN不是必须的，但是一般会采用这个加速库。</p></blockquote><p>同时坊间传言，30系列显卡只支持CUDA 11.X 及往后的版本。40系列显卡只支持CUDA 11.3及往后的版本笔者在实践中，视乎也验证了上述的传言：</p><p><strong>30系列显卡：</strong></p><p><img loading="lazy" src="https://img.up.cdn.nahida.cn/typora/20230729/assets/image-20230729093126683.png!blog.luomoe.com.20230729" alt="image-20230729093126683" class="img_ev3q"></p><p><strong>40系列显卡：</strong></p><p><img loading="lazy" src="https://img.up.cdn.nahida.cn/typora/20230729/assets/image-20230729092952955.png!blog.luomoe.com.20230729" alt="image-20230729092952955" class="img_ev3q"></p><p>同时tensorflow对于依赖库也会有非常严格的要求。下标为经过测试的构建配置（GPU），来源官网：<a href="https://www.tensorflow.org/install/source?hl=zh-cn#tested_build_configurations" target="_blank" rel="noopener noreferrer">https://www.tensorflow.org/install/source?hl=zh-cn#tested_build_configurations</a></p><p><img loading="lazy" src="https://img.up.cdn.nahida.cn/typora/20230729/assets/image-20230729093339504.png!blog.luomoe.com.20230729" alt="image-20230729093339504" class="img_ev3q"></p><p>如果盲目直接上手，一般都会直接部署tensorflow 1.15。一般错误为cuDNN以及CUDA版本不匹配（上图为30系列，下图为40系列显卡）：</p><p><img loading="lazy" src="https://img.up.cdn.nahida.cn/typora/20230729/assets/image-20230729093752269.png!blog.luomoe.com.20230729" alt="image-20230729093752269" class="img_ev3q"></p><p><img loading="lazy" src="https://img.up.cdn.nahida.cn/typora/20230729/assets/image-20230729093731526.png!blog.luomoe.com.20230729" alt="image-20230729093731526" class="img_ev3q"></p><p>综上所述，tensorflow的版本的对于cuDNN以及CUDA版本有着及其严格的要求。但是如果为了能够使用新购置的30/40系列显卡，就一定需要升级tensorflow版本并重写代码吗？并不一定。</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="解决方案">解决方案<a class="hash-link" href="#解决方案" title="标题的直接链接">​</a></h2><p>其实官方早已经提出了解决方案，也就是nvidia-tensorflow。</p><p>GitHub地址为：<a href="https://github.com/NVIDIA/tensorflow" target="_blank" rel="noopener noreferrer">https://github.com/NVIDIA/tensorflow</a></p><p>官方网站为：<a href="https://developer.nvidia.com/deep-learning-frameworks" target="_blank" rel="noopener noreferrer">https://developer.nvidia.com/deep-learning-frameworks</a></p><blockquote><p>NVIDIA has created this project to support newer hardware and improved libraries to NVIDIA GPU users who are using TensorFlow 1.x. With release of TensorFlow 2.0, Google announced that new major releases will not be provided on the TF 1.x branch after the release of TF 1.15 on October 14 2019. NVIDIA is working with Google and the community to improve TensorFlow 2.x by adding support for new hardware and libraries. However, a significant number of NVIDIA GPU users are still using TensorFlow 1.x in their software ecosystem. This release will maintain API compatibility with upstream TensorFlow 1.15 release. This project will be henceforth referred to as nvidia-tensorflow.</p><p>Link to Tensorflow <a href="https://github.com/tensorflow/tensorflow" target="_blank" rel="noopener noreferrer">README</a></p></blockquote><p>介绍：随着 TensorFlow 2.0 的发布，谷歌宣布 2019 年 10 月 14 日 TF 1.15 发布后，TF 1.x 分支将不再提供新的主要版本。英伟达正在与谷歌和社区合作，通过增加对新硬件和库的支持来改进 TensorFlow 2.x。然而，大量英伟达™（NVIDIA®）GPU 用户仍在其软件生态系统中使用 TensorFlow 1.x。该版本将保持与上游 TensorFlow 1.15 版本的 API 兼容。此后，该项目将被称为 nvidia-tensorflow。</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="安装步骤">安装步骤<a class="hash-link" href="#安装步骤" title="标题的直接链接">​</a></h2><ol><li>明确自己的安装的版本。可以直接打开该项目的GitHub地址。之后<strong>在左上角可以查看历史分支</strong>，查看有没有自己的所需的版本。</li></ol><p><img loading="lazy" src="https://img.up.cdn.nahida.cn/typora/20230729/assets/image-20230729094821134.png!blog.luomoe.com.20230729" alt="image-20230729094821134" class="img_ev3q"></p><p><img loading="lazy" src="https://img.up.cdn.nahida.cn/typora/20230729/assets/image-20230729094849381.png!blog.luomoe.com.20230729" alt="image-20230729094849381" class="img_ev3q"></p><p>​		主要是查看各个历史版本的所需要的安装系统的环境。查看readme自述文件中关于安装环境的要求，如有自己所需要的TF，则按readme自述文件部署安装环境：</p><p><img loading="lazy" src="https://img.up.cdn.nahida.cn/typora/20230729/assets/image-20230729095024664.png!blog.luomoe.com.20230729" alt="image-20230729095024664" class="img_ev3q"></p><p><img loading="lazy" src="https://img.up.cdn.nahida.cn/typora/20230729/assets/image-20230729095039532.png!blog.luomoe.com.20230729" alt="image-20230729095039532" class="img_ev3q"></p><ol start="2"><li><p>在准备好安装环境之后（推荐使用Anaconda，Miniconda安装部署所需要的环境，本文所使用的环境为Miniconda，具体操作与Anaconda一致）后输入以下命令行：</p><p>（1）检查pip版本：		</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">pip --version</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>​		如果不满足pip的需求，则需要更新pip版本：				</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">pip </span><span class="token function" style="color:#d73a49">install</span><span class="token plain"> --upgrade pip</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>（2）NVIDIA wheels 不在 PyPI.org 上托管。要为 Tensorflow 安装英伟达™（NVIDIA®）wheels，请安装英伟达™（NVIDIA®）wheels索引：			</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">pip </span><span class="token function" style="color:#d73a49">install</span><span class="token plain"> --user nvidia-pyindex</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>（3）安装nvidia-tensorflow</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">pip </span><span class="token function" style="color:#d73a49">install</span><span class="token plain"> --user nvidia-tensorflow</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">horovod</span><span class="token punctuation" style="color:#393A34">]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>​			输入命令行之后静静等待即可。</p><p>​			如果是无限下载，也就是完整下载了某个依赖包之后又重新下载这一个依赖包，同时伴有pip报错。解决方案就是将该环境删除，重新配置。但是出现下面的情况是完好的，不用紧张，静静等待即可：			<img loading="lazy" src="https://img.up.cdn.nahida.cn/typora/20230729/assets/image-20230729101519195.png!blog.luomoe.com.20230729" alt="image-20230729101519195" class="img_ev3q"></p><p>​	（4）验证安装。待上述的步骤安装结束之后，即可验证TF是否安装在本地。首先是保证已经进入了已经安装的TF 1.x的环境，之后操作图下：</p><p>​			进入python环境：</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">python</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>​			引入TF:  </p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> tensorflow </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> tf</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>​			验证：</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;Num GPUs Available: &quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token builtin">len</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">tf</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">config</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">experimental</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">list_physical_devices</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;GPU&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;Num GPUs Available: &quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token builtin">len</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">tf</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">config</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">experimental</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">list_physical_devices</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;XLA_GPU&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>​		(5) 如果出现了如下情况就表示已经安装成功了：</p><p>​				<strong>3090显卡：</strong></p><p><img loading="lazy" src="https://img.up.cdn.nahida.cn/typora/20230729/assets/image-20230729102856243.png!blog.luomoe.com.20230729" alt="image-20230729102856243" class="img_ev3q"></p><p>​			</p><p>​			<strong>4090显卡：</strong></p><p><img loading="lazy" src="https://img.up.cdn.nahida.cn/typora/20230729/assets/image-20230729102946121.png!blog.luomoe.com.20230729" alt="image-20230729102946121" class="img_ev3q"></p><p>​	</p><p>​	能够识别出服务器显卡的的参数即表示TF 1.x版本的安装成功</p></li></ol><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="实验试跑">实验试跑<a class="hash-link" href="#实验试跑" title="标题的直接链接">​</a></h2><p>安装成功了，怎么能不试着跑一下呢。安装部署了自己所需的TF环境，在按照需求安装其他的依赖包，即可试着跑自己的代码。</p><p>此处，本文使用了某平台上的两个GPU服务器跑代码，配置如下：</p><p><img loading="lazy" src="https://img.up.cdn.nahida.cn/typora/20230729/assets/image-20230729103439357.png!blog.luomoe.com.20230729" alt="image-20230729103439357" class="img_ev3q"></p><p>之后，部署其他的依赖包，直接上传代码跑实验：</p><p><img loading="lazy" src="https://img.up.cdn.nahida.cn/typora/20230729/assets/image-20230729103811417.png!blog.luomoe.com.20230729" alt="image-20230729103811417" class="img_ev3q"></p><p>总体效果还不错。</p><p>​			3090卡：		<img loading="lazy" src="https://img.up.cdn.nahida.cn/typora/20230729/assets/image-20230729103922165.png!blog.luomoe.com.20230729" alt="image-20230729103922165" class="img_ev3q"></p><p>​			</p><p>​			4090卡：</p><p><img loading="lazy" src="https://img.up.cdn.nahida.cn/typora/20230729/assets/image-20230729104011556.png!blog.luomoe.com.20230729" alt="image-20230729104011556" class="img_ev3q"></p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="结语">结语<a class="hash-link" href="#结语" title="标题的直接链接">​</a></h2><p>挺好，不用重写代码了。</p><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>说明</div><div class="admonitionContent_S0QG"><p>我知道有机器采集网站文章，所以已经在公众号上先发了。</p><p><img loading="lazy" src="https://img.up.cdn.nahida.cn/typora/20230729/wechat.png!blog.luomoe.com.20230729" alt="image-20230729093126683" class="img_ev3q"></p></div></div></div><footer class="row docusaurus-mt-lg blogPostFooterDetailsFull_mRVl"><div class="col"><b>标签：</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/tensorflow">tensorflow</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/nvidia">NVIDIA</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/rtx-4090">RTX4090</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/rtx-3090">RTX3090</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/ai">AI</a></li></ul></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="博文分页导航"><a class="pagination-nav__link pagination-nav__link--prev" href="/blog/IoV202307"><div class="pagination-nav__sublabel">较新一篇</div><div class="pagination-nav__label">边缘计算相关论文笔记（2023年7月）</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/blog/IoV202306"><div class="pagination-nav__sublabel">较旧一篇</div><div class="pagination-nav__label">边缘计算相关论文笔记（2023年6月）</div></a></nav></main><div class="col col--2"><div class="tableOfContents_bqdL thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#问题起因" class="table-of-contents__link toc-highlight">问题起因</a></li><li><a href="#解决方案" class="table-of-contents__link toc-highlight">解决方案</a></li><li><a href="#安装步骤" class="table-of-contents__link toc-highlight">安装步骤</a></li><li><a href="#实验试跑" class="table-of-contents__link toc-highlight">实验试跑</a></li><li><a href="#结语" class="table-of-contents__link toc-highlight">结语</a></li></ul></div></div></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 胖螺 2020-2023 . <br>
                    <a href="https://www.nahida.cn/" target="_blank" style="color:#fff">纳西妲 世界第一可爱</a> <br>
                  <span style="text-align: center">  本网站由<a href="https://www.upyun.com/?utm_source=lianmeng&utm_medium=referral" target="_blank"><img src="https://img.up.cdn.nahida.cn/icon/upyun_logo5.png" width="53px" style="vertical-align: middle; display: inline-block;"></a>提供CDN加速/云存储服务</span>

        </div></div></div></footer></div>
<script src="/assets/js/runtime~main.b2abe4ed.js"></script>
<script src="/assets/js/main.cf17977a.js"></script>
</body>
</html>