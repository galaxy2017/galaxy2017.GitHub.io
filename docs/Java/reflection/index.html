<!doctype html>
<html lang="zh-Hans" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-Java/reflection">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.2.0">
<title data-rh="true">Java的反射 | 胖螺</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://blog.luomoe.com/docs/Java/reflection"><meta data-rh="true" name="docusaurus_locale" content="zh-Hans"><meta data-rh="true" name="docsearch:language" content="zh-Hans"><meta data-rh="true" name="keywords" content="胖螺,JavaScript,python,tensorflow,nvidia"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Java的反射 | 胖螺"><meta data-rh="true" name="description" content="表示重要"><meta data-rh="true" property="og:description" content="表示重要"><link data-rh="true" rel="icon" href="https://img.up.cdn.nahida.cn/2020/03/cropped-logo2-1.png"><link data-rh="true" rel="canonical" href="https://blog.luomoe.com/docs/Java/reflection"><link data-rh="true" rel="alternate" href="https://blog.luomoe.com/docs/Java/reflection" hreflang="zh-Hans"><link data-rh="true" rel="alternate" href="https://blog.luomoe.com/docs/Java/reflection" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="胖螺 RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="胖螺 Atom Feed"><link rel="stylesheet" href="/assets/css/styles.dfc5b64c.css">
<link rel="preload" href="/assets/js/runtime~main.b2abe4ed.js" as="script">
<link rel="preload" href="/assets/js/main.cf17977a.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="跳到主要内容"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">跳到主要内容</a></div><nav class="navbar navbar--fixed-top navbarHideable_m1mJ"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="https://img.up.cdn.nahida.cn/2020/03/cropped-logo2-1.png" alt="胖螺" class="themedImage_ToTc themedImage--light_HNdA"><img src="https://img.up.cdn.nahida.cn/2020/03/cropped-logo2-1.png" alt="胖螺" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">胖螺</b></a></div><div class="navbar__items navbar__items--right"><div class="searchBox_ZlJk"><div class="navbar__search searchBarContainer_NW3z"><input placeholder="搜索" aria-label="Search" class="navbar__search-input"><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div></div></div><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/intro">笔记</a><a class="navbar__item navbar__link" href="/blog/welcome">博客</a><a class="navbar__item navbar__link" href="/blog/links">友链</a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="切换浅色/暗黑模式（当前为浅色模式）" aria-label="切换浅色/暗黑模式（当前为浅色模式）" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="回到顶部" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd sidebarWithHideableNavbar_wUlq"><a tabindex="-1" class="sidebarLogo_isFc" href="/"><img src="https://img.up.cdn.nahida.cn/2020/03/cropped-logo2-1.png" alt="胖螺" class="themedImage_ToTc themedImage--light_HNdA"><img src="https://img.up.cdn.nahida.cn/2020/03/cropped-logo2-1.png" alt="胖螺" class="themedImage_ToTc themedImage--dark_i4oU"><b>胖螺</b></a><nav class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/intro">介绍</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/docs/category/java">Java</a><button aria-label="打开/收起侧边栏菜单「Java」" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Java/java_basic">java基础篇</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Java/eiCom">八大常用类</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Java/comF">java 集合框架</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Java/io">IO流</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Java/annotations">Java的注解与反射</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/Java/reflection">Java的反射</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Java/thread">Java的线程基础</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/category/python">python</a><button aria-label="打开/收起侧边栏菜单「python」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/category/javascript">JavaScript</a><button aria-label="打开/收起侧边栏菜单「JavaScript」" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav><button type="button" title="收起侧边栏" aria-label="收起侧边栏" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="页面路径"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="主页面" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OVgt"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/category/java"><span itemprop="name">Java</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Java的反射</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">本页总览</button></div><div class="theme-doc-markdown markdown"><header><h1>Java的反射</h1></header><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="表示重要">表示重要<a class="hash-link" href="#表示重要" title="标题的直接链接">​</a></h3><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="一反射机制问题">一、反射机制问题<a class="hash-link" href="#一反射机制问题" title="标题的直接链接">​</a></h2><p>这种方法贼牛X，也就是通过外部文件配置，在不修改源码的情况下，来控制程序，也符合设计模式的 ocp原则（开闭原则：不修改源码，扩容功能）</p><p>可以通过修改properties   配置文件的method的配置，实现修改程序的表现方式。</p><p>举例子：</p><p>src\re.properties   文件</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">classfullpath = opp3.Cat</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">method=cry                         // 如果 cry 改为 hi 则会改变</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Cat.class</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">package opp3;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class Cat {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private String name = &quot;招财&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void hi(){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        System.out.println(&quot;hi，招财&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void cry(){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        System.out.println(&quot;hi，喵喵叫&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>ReflectionQuestion.class</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">package opp3;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import javax.swing.plaf.synth.SynthOptionPaneUI;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import java.io.FileInputStream;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import java.io.FileNotFoundException;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import java.io.IOException;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import java.lang.reflect.InvocationTargetException;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import java.lang.reflect.Method;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import java.util.Properties;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * 反射问题的引入</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class ReflectionQuestion {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public static void main(String[] args) throws IOException, ClassNotFoundException, InstantiationException, IllegalAccessException, NoSuchMethodException, InvocationTargetException {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //根据配置文件 re.properties 指定信息，创建Cat对象并调用hi方法</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //传统方法 new 对象——&gt;调用方法</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//        Cat cat = new Cat();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//        cat.hi();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //尝试做 明白反射</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //1. 使用properties类，可以读写配置文件</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Properties properties = new Properties();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        properties.load(new FileInputStream(&quot;src\\re.properties&quot;));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        String classfullpath = properties.get(&quot;classfullpath&quot;).toString();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        String method = properties.get(&quot;method&quot;).toString();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        System.out.println(classfullpath);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        System.out.println(method);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //2. 创建对象，传统的方法就要用  反射机制</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        System.out.println(&quot;==========================================&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //3. 使用反射机制解决</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //（1）加载类,返回Class类型的对象</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //（2）通过cls 得到加载的类 opp3.Cat 的对象实例</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Class&lt;?&gt; cls = Class.forName(classfullpath);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Cat cat = (Cat) cls.newInstance();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        System.out.println(&quot;运行类型&quot;+cat.getClass());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //（3）通过 cls 得到你加载的类 opp3.Cat 的 hi 的方法对象</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // 即：在反射中，可以把方法视为对象（万物皆对象）</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Method method1 = cls.getMethod(method);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //通过method1 调用方法，即通过方法对象来实现调用方法</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        method1.invoke(cat);     //反射机制  方法.invoke(对象)                  传统：对象.方法</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="11-反射原理图">1.1 反射原理图<a class="hash-link" href="#11-反射原理图" title="标题的直接链接">​</a></h3><p>java.reflection</p><p><img loading="lazy" src="https://img.up.cdn.nahida.cn/typora-user-images/image-20220810200337253.png" alt="image-20220810200337253" class="img_ev3q"></p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="12-反射相关的主要类">1.2 反射相关的主要类<a class="hash-link" href="#12-反射相关的主要类" title="标题的直接链接">​</a></h3><ol><li><code>java.lang.Class</code>：代表一个类，Class对象表示某个类加载后在堆中的对象</li><li><code>java.lang.reflect.Method</code>：代表类的方法，Method对象表示某个类的方法</li><li><code>java.lang.reflect.Field</code>：代表类的成员变量，Field对象表示某个类的成员变量</li><li><code>java.lang.reflect.Constructor</code>：代表类的构造方法，Constructor表示构造器</li></ol><p>这些类在java.lang 包</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">package opp3;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class Cat {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private String name = &quot;招财&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public int age = 10;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public Cat(){}    //无参构造器</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public Cat(String name){ this.name = name; }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void hi(){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        System.out.println(&quot;hi，招财&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void cry(){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        System.out.println(&quot;hi，喵喵叫&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public static class demo01 {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">classfullpath = opp3.Cat</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">method=cry</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">package opp3;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import java.io.FileInputStream;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import java.io.FileNotFoundException;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import java.io.IOException;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import java.lang.reflect.Constructor;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import java.lang.reflect.Field;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import java.lang.reflect.InvocationTargetException;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import java.lang.reflect.Method;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import java.util.Properties;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class demo01 {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public static void main(String[] args) throws IOException, ClassNotFoundException, InstantiationException, IllegalAccessException, NoSuchMethodException, InvocationTargetException, NoSuchFieldException {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Properties properties = new Properties();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        properties.load(new FileInputStream(&quot;src\\re.properties&quot;));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        String classfullpath = properties.get(&quot;classfullpath&quot;).toString();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        String method = properties.get(&quot;method&quot;).toString();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //2. 使用反射机制解决</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //（1）加载类,返回Class类型的对象</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Class&lt;?&gt; cls = Class.forName(classfullpath);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //（2）通过cls 得到加载的类 opp3.Cat 的对象实例</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Cat cat = (Cat) cls.newInstance();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        System.out.println(&quot;运行类型&quot;+cat.getClass());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //（3）通过 cls 得到你加载的类 opp3.Cat 的 hi 的方法对象</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // 即：在反射中，可以把方法视为对象（万物皆对象）</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Method method1 = cls.getMethod(method);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //通过method1 调用方法，即通过方法对象来实现调用方法</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        method1.invoke(cat);     //反射机制  方法.invoke(对象)                  传统：对象.方法</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //java.lang.reflect.Field  代表类的成员变量，Field对象表示某个类的成员变量</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //得到name</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //getField 不能得到private私有的属性</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> //       Field field = cls.getField(&quot;name&quot;);  //getField 不能得到private私有的属性    private String name = &quot;招财&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Field field = cls.getField(&quot;age&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // 传统写法： 对象.成员变量   ，  反射：成员变量对象.get(对象)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        System.out.println(field.get(cat));      //  public int age = 10;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //java.lang.reflect.Constructor 代表类的构造方法，Constructor表示构造器</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Constructor&lt;?&gt; constructor = cls.getConstructor(); // () 中可以指定构造器参数类型 。括号里为空，则为无参构造器</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        System.out.println(constructor);    //public opp3.Cat()      public Cat(){}    //无参构造器</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Constructor&lt;?&gt; constructor1 = cls.getConstructor(String.class);//这里传入的 String.class 就是String类的Class对象</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        System.out.println(constructor1);   //public opp3.Cat(java.lang.String)   public Cat(String name){ this.name = name; }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="13-反射调用优化">1.3 反射调用优化<a class="hash-link" href="#13-反射调用优化" title="标题的直接链接">​</a></h3><p>反射的</p><p>​ 优点：可以动态的创建和使用对象（也可以是框架底层核心），使用灵活，没有反射机制，框架即时就是去底层支撑</p><p>​ 缺点：使用反射基本就是解释执行，对执行速度有影响</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">package opp3;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import java.lang.reflect.InvocationTargetException;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import java.lang.reflect.Method;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class demo02 {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public static void main(String[] args) throws ClassNotFoundException, InvocationTargetException, InstantiationException, IllegalAccessException, NoSuchMethodException {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        m1();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        m2();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //传统方法</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public static void m1(){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Cat cat = new Cat();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        long startTime = System.currentTimeMillis();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        for (int i = 0; i &lt; 1000000000; i++) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            cat.hi();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        long endTime = System.currentTimeMillis();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        System.out.println(&quot;传统方法用时：&quot; + (endTime-startTime));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //反射机制</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public static void m2() throws ClassNotFoundException, InstantiationException, IllegalAccessException, NoSuchMethodException, InvocationTargetException {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Class&lt;?&gt; cls = Class.forName(&quot;opp3.Cat&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Object o = cls.newInstance();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Method hi = cls.getMethod(&quot;hi&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        long startTime = System.currentTimeMillis();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        for (int i = 0; i &lt; 1000000000; i++) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            hi.invoke(o);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        long endTime = System.currentTimeMillis();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        System.out.println(&quot;反射机制用时：&quot; + (endTime-startTime));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>稍微优化一下 setAccessible(true);</p><p>setAccessible：启动和禁用访问安全检查的开关。参数值为true则指反射的对象在使用时应该取消java语言访问检查。</p><ul><li>提高反射效率。如果代码中必须使用反射，而该句代码需要频发的被调用，那么请设置为true</li><li>使得原本无法访问的私有成员也可以访问</li></ul><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">package opp3;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import java.lang.reflect.InvocationTargetException;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import java.lang.reflect.Method;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class demo02 {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public static void main(String[] args) throws ClassNotFoundException, InvocationTargetException, InstantiationException, IllegalAccessException, NoSuchMethodException {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        m1();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        m2();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        m3();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //传统方法</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public static void m1(){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Cat cat = new Cat();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        long startTime = System.currentTimeMillis();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        for (int i = 0; i &lt; 1000000000; i++) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            cat.hi();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        long endTime = System.currentTimeMillis();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        System.out.println(&quot;传统方法用时：&quot; + (endTime-startTime));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //反射机制</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public static void m2() throws ClassNotFoundException, InstantiationException, IllegalAccessException, NoSuchMethodException, InvocationTargetException {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Class&lt;?&gt; cls = Class.forName(&quot;opp3.Cat&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Object o = cls.newInstance();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Method hi = cls.getMethod(&quot;hi&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        long startTime = System.currentTimeMillis();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        for (int i = 0; i &lt; 1000000000; i++) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            hi.invoke(o);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        long endTime = System.currentTimeMillis();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        System.out.println(&quot;反射机制用时：&quot; + (endTime-startTime));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //反射优化</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public static void m3() throws ClassNotFoundException, InstantiationException, IllegalAccessException, NoSuchMethodException, InvocationTargetException {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Class&lt;?&gt; cls = Class.forName(&quot;opp3.Cat&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Object o = cls.newInstance();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Method hi = cls.getMethod(&quot;hi&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        hi.setAccessible(true);   //取消访问检查</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        long startTime = System.currentTimeMillis();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        for (int i = 0; i &lt; 1000000000; i++) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            hi.invoke(o);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        long endTime = System.currentTimeMillis();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        System.out.println(&quot;反射机制用时：&quot; + (endTime-startTime));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Method的setAccessible优化</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Method hi = cls.getMethod(&quot;hi&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        hi.setAccessible(true);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Field的setAccessible优化</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Field name = cls.getField(&quot;name&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">name.setAccessible(true);    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                //因为原来的的属性是private，不能直接访问，所以需要关闭安全检测   private String name = &quot;招财&quot;;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="二class类">二、Class类<a class="hash-link" href="#二class类" title="标题的直接链接">​</a></h2><ol><li>Class也是类，因此也继承Object类</li><li>Class类对象不是new 出来的，而是系统生成的</li><li>对于某个类的Class类对象，在内存中只有一份，因此类只加载一次</li><li>每个类的实例都会记得自己是哪个Class实例所生成</li><li>通过Class可以完整地得到一个类的完整结构，通过一些列API</li><li>Class对象是存放在堆中</li><li>类的字节码二进制数据，是放在方法区，有的地方称为类的元数据（包括 方法代码，变量名，方法名，访问权限等等）</li></ol><p><img loading="lazy" src="https://img.up.cdn.nahida.cn/2022/08/image-20220809214840457.png" alt="Java 注解与反射 基础插图" class="img_ev3q"></p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="21-获取class对象的六种方法">2.1 获取Class对象的六种方法<a class="hash-link" href="#21-获取class对象的六种方法" title="标题的直接链接">​</a></h3><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">package opp3;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * 演示getClass()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class GetClass {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public static void main(String[] args) throws ClassNotFoundException {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //1. Class.forName</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // 需要知道目标类的 的位置和类名</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        String classPath = &quot;opp3.Cat&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Class&lt;?&gt; cls1 = Class.forName(classPath);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        System.out.println(cls1);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //2.类名.class  ，应用场景：用于参数传递</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Class cls2 = Cat.class;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        System.out.println(cls2);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //3. 对象.getClass()   运用场景：有对象实例</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // 运行时</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Cat cat = new Cat();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Class cls3 = cat.getClass();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        System.out.println(cls3);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //4. 通过类加载器【4种】获取类的Class对象</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //（1）先得到类加载器 cat</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ClassLoader classLoader = cat.getClass().getClassLoader();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //(2)通过类加载器得到Class对象</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Class cls4 = classLoader.loadClass(classPath);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        System.out.println(cls4);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       //cls1 cls2 cls3 cls4  其实是同一个对象</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //5. 基本数据类型（int char boolean float double byte long short）按如下方式得到Class类对象</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Class&lt;Integer&gt; integerClass = int.class;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Class&lt;Character&gt; characterClass = char.class;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Class&lt;Boolean&gt; booleanClass = boolean.class;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        System.out.println(integerClass);   //其他基本类型就不展示了</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //6. 基本数据类型对应的包装类，可以通过 .TYPE 得到Class类对象</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Class&lt;Integer&gt; type = Integer.TYPE;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Class&lt;Character&gt; characterClass1 = Character.class;   //其他包装类BOOLEAN DOUBLE BYTE 等也一样</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        System.out.println(type);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="22-哪些类型有class对象">2.2 哪些类型有Class对象<a class="hash-link" href="#22-哪些类型有class对象" title="标题的直接链接">​</a></h3><ol><li><p>class：外部类、成员（内部成员、外部成员），局部内部类，匿名内部类</p></li><li><p>interface：接口</p></li><li><p>[] ：数组</p></li><li><p>enum：枚举</p></li><li><p>annotation：注解@interface</p></li><li><p>primitive type：基本数据类型</p></li><li><p>void</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">package opp3;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import java.io.Serializable;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class TypeClass {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public static void main(String[] args) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Class&lt;String&gt; stringClass = String.class;   //外部类</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Class&lt;Serializable&gt; serializableClass = Serializable.class;      //接口</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Class&lt;Integer[]&gt; aClass = Integer[].class;          //数组</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Class&lt;float[][]&gt; aClass1 = float[][].class;        //二维数组</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Class&lt;Deprecated&gt; deprecatedClass = Deprecated.class; //注解</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //枚举</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Class&lt;Thread.State&gt; stateClass = Thread.State.class;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Class&lt;Long&gt; longClass = long.class; //基本数据类型</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Class&lt;Void&gt; voidClass = void.class; //void数据类型</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Class&lt;Class&gt; classClass = Class.class;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        System.out.println(stateClass);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        System.out.println(serializableClass);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        System.out.println(aClass);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        System.out.println(aClass1);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        System.out.println(deprecatedClass);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        System.out.println(serializableClass);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        System.out.println(longClass);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        System.out.println(voidClass);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        System.out.println(classClass);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li></ol><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="三类加载">三、类加载<a class="hash-link" href="#三类加载" title="标题的直接链接">​</a></h2><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="31-静态和动态加载">3.1 静态和动态加载<a class="hash-link" href="#31-静态和动态加载" title="标题的直接链接">​</a></h3><ul><li>静态加载：编译时加载相关类，如果没有则报错，依赖性太强</li><li>动态加载：运行时加载需要的类，如果运行时不用该类，则不报错，降低依赖性</li></ul><p>类加载时机：</p><ol><li>当创建对象时（new）   //静态加载</li><li>当子类被加载时，父类也加载   //静态加载</li><li>调用类种的静态成员时    //静态加载</li><li>通过反射</li></ol><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">package opp3;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import java.lang.reflect.Method;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class ClassLoad_ {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public static void main(String[] args) throws Exception {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//        //静态加载，依赖性很强</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//        //编译前必须有Cat类，否则会报错</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//        Cat cat = new Cat();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//        cat.hi();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //静态加载</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //反射 -&gt; 动态加载</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //因为是动态加载，则就算编译前没有写有Cat类也没有报错。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //只有当动态加载到Cat类时，当发现没有Cat类时，才会报错</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Class aClass = Class.forName(&quot;opp3.Cat&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Object o = aClass.newInstance();                         //新建一个对象o</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Method hi = aClass.getMethod(&quot;hi&quot;);            </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        hi.invoke(o);                  //激活新建对象o 的hi方法</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="32-类加载流程图">3.2 类加载流程图<a class="hash-link" href="#32-类加载流程图" title="标题的直接链接">​</a></h3><p><img loading="lazy" src="https://img.up.cdn.nahida.cn/typora-user-images/image-20220811124538799.png" alt="image-20220811124538799" class="img_ev3q"></p><p><img loading="lazy" src="https://img.up.cdn.nahida.cn/typora-user-images/image-20220811124950807.png" alt="image-20220811124950807" class="img_ev3q"></p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="33-类加载的五个阶段">3.3 类加载的五个阶段<a class="hash-link" href="#33-类加载的五个阶段" title="标题的直接链接">​</a></h3><p>一、加载</p><p>二、验证阶段：</p><ol><li>目的是为了去额宝Class文件的字节流种包含的信息符合当前虚拟机的要求，并且不会危害虚拟机自身安全</li><li>包括：文件格式验证（是否以魔数 oxcafebabe开头）、元数据验证、字节码验证和符号引用验证</li><li>可以考虑使用 -Xverify:none 参数来关闭大部分的类验证措施，缩短虚拟机加载时间（只要你项目足够大，小项目就不考虑）</li></ol><p>三、准备阶段：</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">//1. n1  是实例属性，不是静态变量，因此在准备阶段不会分配内存</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//2. n2  是静态变量，分配内存n2 是默认初始化 0 ，而不是20</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//3. n3  是static final 常量，它和静态变量不一样，因为一旦赋值就不边 n3 = 30</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// class内部</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//属性-成员变量-字段</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public int n1 = 10;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public static int n2 = 20;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public static final int n3 = 30</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>四、解析 阶段</p><p>​ 虚拟机将常量池内的符号引用替换为直接引用的过程</p><p>五、初始化</p><ol><li>到初始化阶段，才正在执行类中定义的java程序代码，此阶段是执行<code>&lt;clinit&gt;()</code>方法的过程</li><li><code>&lt;clinit&gt;()</code>方法是按语句在源文件中出现的顺序，依次自动收集类中所有的静态变量的赋值动作和静态代码块中的语句，并进行合并</li><li>虚拟机会保证一个类<code>&lt;clinit&gt;()</code>方法在多线程环境中被正确地加锁、同步，如果多个线程同时去初始化一个类，那么只会有一个线程去执行这个类的<code>&lt;clinit&gt;()</code>方法，其他线程都需要阻塞等待，知道活动线程执行<code>&lt;clinit&gt;()</code>方法完毕。</li></ol><h4></h4><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="四-反射获取类的结构信息">四、 反射获取类的结构信息<a class="hash-link" href="#四-反射获取类的结构信息" title="标题的直接链接">​</a></h2><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="41-第一组">4.1 第一组<a class="hash-link" href="#41-第一组" title="标题的直接链接">​</a></h3><ol><li>getName();   获取全类名</li><li>getSimpleName();    获取简单类名</li><li>getFields();   获取所有public修饰的属性，包括父类的</li><li>getDeclaredFields();     获取本类中所有属性</li><li>getMethods();      获取多有的public修饰的方法，包括父类的</li><li>getDeclaredMethods();    获取本类所有的方法</li><li>getConstructors();    获取本类所有public修饰的构造器</li><li>getDeclaredConstructors();    获取本类中所有的构造器</li><li>getPackage();    以package形式返回父类信息</li><li>getSuperclass();    以class形式返回父类信息</li><li>getInterfaces();     以Class[]形式返回接口信息</li><li>getAnnotations();    以Annotations[]形式返回注解信息</li></ol><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">package opp3;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import org.testng.annotations.Test;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import java.lang.annotation.Annotation;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import java.lang.reflect.Constructor;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import java.lang.reflect.Field;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import java.lang.reflect.Method;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * 如何获取类的结构信息</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class Demo05 {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public static void main(String[] args) throws Exception{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        api_01();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Test</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public static void  api_01() throws Exception {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        /**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         * 1. getName();   获取全类名</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         * 2. getSimpleName();    获取简单类名</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         * 3. getFields();   获取所有public修饰的属性，包括父类的</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         * 4. getDeclaredFields();     获取本类中所有属性</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         * 5. getMethods();      获取多有的public修饰的方法，包括父类的</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         * 6. getDeclaredMethods();    获取本类所有的方法</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         * 7. getConstructors();    获取本类所有public修饰的构造器，</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         * 8. getDeclaredConstructors();    获取本类中所有的构造器</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         * 9. getPackage();    以package形式返回父类信息</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         * 10. getSuperclass();    以class形式返回父类信息</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         * 11. getInterfaces();     以Class[]形式返回接口信息</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         * 12. getAnnotations();    以Annotations[]形式返回注解信息</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Class cls = Class.forName(&quot;opp3.Person&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        System.out.println(cls.getName());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        System.out.println(cls.getSimpleName());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Field[] fields = cls.getFields();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        for (Field field : fields) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            System.out.println(&quot;本类及父类的属性&quot; + field);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Field[] declaredFields = cls.getDeclaredFields();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        for (Field declaredField : declaredFields) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            System.out.println(&quot;本类的属性 &quot; + declaredField);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Method[] methods = cls.getMethods();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        for (Method method : methods) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            System.out.println(&quot;本类及父类method：  &quot; + method.getName());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Method[] declaredMethods = cls.getDeclaredMethods();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        for (Method declaredMethod : declaredMethods) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            System.out.println(&quot;本类所有方法&quot; + declaredMethod.getName());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Constructor[] constructors = cls.getConstructors();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        for (Constructor constructor : constructors) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            System.out.println(&quot;本类constructors：  &quot; + constructor);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Constructor[] declaredConstructors = cls.getDeclaredConstructors();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        for (Constructor declaredConstructor : declaredConstructors) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            System.out.println(&quot;本类的declaredConstructors:    &quot; + declaredConstructor.getName());   //这里只是输出了名字</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        System.out.println(cls.getPackage());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        System.out.println(cls.getSuperclass());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Class[] interfaces = cls.getInterfaces();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        for (Class anInterface : interfaces) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            System.out.println(&quot;接口信息：&quot; + anInterface);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Annotation[] annotations = cls.getAnnotations();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        for (Annotation annotation : annotations) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            System.out.println(&quot;注解信息&quot; + annotation);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">class A {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public String hobby;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public A(){}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">interface IA{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">interface  IB{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">@Deprecated</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">class Person extends A implements IA,IB{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public String name;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    protected int age;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    String job;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private double sal;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void m1(){}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    protected  void  m2(){}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void m3(){}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //构造器</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public Person(){}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public Person(String name){}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private Person(String name, int age){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="42-第二组">4.2 第二组<a class="hash-link" href="#42-第二组" title="标题的直接链接">​</a></h3><p>java.lang.reflect.Field类</p><ol><li><p>getModifiers :以int 形式返回修饰符</p><p>​ （说明：默认修饰符是0 ， public 是1 ， private是2， protected是 4 ，static是8， final 是16）</p><p>​   其他的举例说明：修饰符  <code>public static</code>：1+8 = 9</p></li><li><p>getType：以Class形式返回类型</p></li><li><p>getName  :  返回属性名</p></li></ol><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">public void api_02() throws Exception{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Class cls = Class.forName(&quot;opp3.Person&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Field[] declaredFields = cls.getDeclaredFields();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    for (Field declaredField : declaredFields) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        System.out.println(&quot;本类的所有属性 &quot; + declaredField.getName()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            +&quot; 该属性的修饰符值 &quot; + declaredField.getModifiers()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            + &quot;  该属性的类型 &quot; + declaredField.getType());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>第三组：java.lang.reflect.Method类</p><ol><li><p>getModifiers :以int 形式返回修饰符</p><p>（说明：默认修饰符是0 ， public 是1 ， private是2， protected是 4 ，static是8， final 是16）</p></li><li><p>getReturnType： 以Class形式获取 返回类型</p></li><li><p>getName：返回方法名</p></li><li><p>getParameterTypes：以Class[]返回参数类型数组</p></li></ol><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">package opp3;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import org.testng.annotations.Test;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import java.lang.annotation.Annotation;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import java.lang.reflect.Constructor;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import java.lang.reflect.Field;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import java.lang.reflect.Method;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import java.lang.reflect.Type;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * 如何获取类的结构信息</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class Demo05 {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public static void main(String[] args) throws Exception{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        api_01();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Test</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void api_02() throws Exception{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Class cls = Class.forName(&quot;opp3.Person&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Field[] declaredFields = cls.getDeclaredFields();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        for (Field declaredField : declaredFields) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            System.out.println(&quot;本类的所有属性 &quot; + declaredField.getName()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                +&quot; 该属性的修饰符值 &quot; + declaredField.getModifiers()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                + &quot;  该属性的类型 &quot; + declaredField.getType());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Method[] declaredMethods = cls.getDeclaredMethods();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        for (Method declaredMethod : declaredMethods) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            System.out.println(&quot;本类所有方法：&quot; + declaredMethod.getName()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                +&quot; 该方法的访问修饰符值：&quot;+declaredMethod.getModifiers()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                +&quot; 该方法的返回类型：&quot; + declaredMethod.getReturnType()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            );</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            //输出当前这个方法的形参数组情况</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            Type[] genericParameterTypes = declaredMethod.getGenericParameterTypes();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            for (Type genericParameterType : genericParameterTypes) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                System.out.println(&quot;该方法的形参类型：&quot; + genericParameterType);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">class A {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public String hobby;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public A(){}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">interface IA{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">interface  IB{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">@Deprecated</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">class Person extends A implements IA,IB{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public String name;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    protected int age;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    protected static int id;    //修饰符值 ： 4 + 8 = 12</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    String job;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private double sal;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void m1(String name,int age,double sal){}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    protected String  m2(){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return null;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void m3(){}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //构造器</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public Person(){}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public Person(String name){}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private Person(String name, int age){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>第四组：java.lang.reflect.Constructor类</p><ol><li><p>getModifiers :以int 形式返回修饰符</p><p>（说明：默认修饰符是0 ， public 是1 ， private是2， protected是 4 ，static是8， final 是16）</p></li><li><p>getName：返回构造器名（全类名）</p></li><li><p>getParameterTypes：以Class[]返回参数类型数组</p></li></ol><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">package opp3;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import org.testng.annotations.Test;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import java.lang.annotation.Annotation;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import java.lang.reflect.Constructor;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import java.lang.reflect.Field;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import java.lang.reflect.Method;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import java.lang.reflect.Type;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * 如何获取类的结构信息</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class Demo05 {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public static void main(String[] args) throws Exception{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        api_01();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Test</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void api_02() throws Exception{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Class cls = Class.forName(&quot;opp3.Person&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Constructor[] declaredConstructors = cls.getDeclaredConstructors();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        for (Constructor declaredConstructor : declaredConstructors) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            System.out.println(&quot;============================&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            System.out.println(&quot;本类的declaredConstructors:    &quot; + declaredConstructor.getName());   //这里只是输出了名字</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            Class[] parameterTypes = declaredConstructor.getParameterTypes();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            for (Class parameterType : parameterTypes) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                System.out.println(&quot;该构造器的形参类型：&quot; + parameterType);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">class A {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public String hobby;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public A(){}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">interface IA{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">interface  IB{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">@Deprecated</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">class Person extends A implements IA,IB{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public String name;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    protected int age;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    protected static int id;    //修饰符值 ： 4 + 8 = 12</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    String job;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private double sal;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void m1(String name,int age,double sal){}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    protected String  m2(){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return null;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void m3(){}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //构造器</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public Person(){}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public Person(String name){}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private Person(String name, int age){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="五反射爆破">五、反射爆破<a class="hash-link" href="#五反射爆破" title="标题的直接链接">​</a></h2><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="51-创建实例">5.1 创建实例<a class="hash-link" href="#51-创建实例" title="标题的直接链接">​</a></h3><ol><li>方式一：调用类中的public修饰的无参构造器</li><li>方式二：调用类中的指定构造器</li><li>Class类相关方法<ul><li>newInstance：调用类中的无参构造器，获取对应类的对象</li><li>getConstructor(Class...clazz)：根据参数列表，获取对应的构造器对象</li><li>getDecalaredConstructor(Class...clazz)：根据参数列表，获取对应的构造器对象</li></ul></li><li>Constructor类相关说法<ul><li>setAccessible：爆破</li><li>newInstance(Object...obj)：调用构造器</li></ul></li></ol><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">package opp3;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import java.lang.reflect.Constructor;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * 通过反射机制创建实例</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class Demo06 {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public static void main(String[] args) throws Exception {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //1. 获取User类的Class对象</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Class&lt;?&gt; cls = Class.forName(&quot;opp3.User&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //2.通过public的无参构造器创建实例</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Object o = cls.newInstance();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        System.out.println(o);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //3.通过public的有参构造器创建实例</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //此时此刻的constructor对象：</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        /*</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            public User(String name){    //public的有参构造器</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                this.name = name;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //3.1 先得到对应的构造器</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Constructor&lt;?&gt; constructor = cls.getConstructor(String.class);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //3.2 创建实例，并换入实参</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Object o1 = constructor.newInstance(&quot;纳西妲&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        System.out.println(o1);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //4.通过非public的有参构造器创建实例</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //4.1 先得到私有private 的构造器</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        /*</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            private User(int age, String name) {    //private的有参构造器</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                this.age = age;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                this.name = name;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Constructor declaredConstructors = cls.getDeclaredConstructor(int.class, String.class);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //因为是私有的构造器，所以需要  declaredConstructors.setAccessible(true);  【爆破】</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //4.2 创建实例</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        declaredConstructors.setAccessible(true);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Object o2 = declaredConstructors.newInstance(6000, &quot;摩拉克斯&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        System.out.println(o2);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">class User{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private int age = 500;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private String name = &quot;Nahida&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public User(){    //无参构造器  public</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private User(int age, String name) {    //private的有参构造器</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        this.age = age;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        this.name = name;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public User(String name){    //public的有参构造器</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        this.name = name;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public String toString() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return &quot;User{&quot; +</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;age=&quot; + age +</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;, name=&#x27;&quot; + name + &#x27;\&#x27;&#x27; +</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &#x27;}&#x27;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="52-操作属性">5.2 操作属性<a class="hash-link" href="#52-操作属性" title="标题的直接链接">​</a></h3><p>如何通过反射访问类中的成员</p><ol><li><p>根据属性名获取Field对象</p><p>​ <code>Field f = clazz 对象.getDeclaredField(属性名)</code></p></li><li><p>爆破：<code>f.setAccessible(true)     //f是Field</code></p></li><li><p>访问</p><p><code>f.set(o,值)；       //o表示对象</code>  </p><p><code>syso(f.get(o));   // o表示对象</code></p></li><li><p>如果是静态属性，则set和get中的参数o，可以写成null</p></li></ol><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">package opp3;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import java.lang.reflect.Field;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * 反射操作属性</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class Demo07 {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public static void main(String[] args) throws Exception {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //1.得到Student对应的Class对象</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Class&lt;?&gt; aClass = Class.forName(&quot;opp3.Student&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //2. 创建对象</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Object o = aClass.newInstance(); //o  运行类型就是Student</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        System.out.println(o);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //3. 使用反射得到 age 属性对象</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Field age = aClass.getField(&quot;age&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        age.set(o,88);   //通过反射操作属性，设置age属性的值为88</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        System.out.println(o);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        System.out.println(age.get(o));   //返回age属性的值</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //4. 使用反射操作name属性</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Field name = aClass.getDeclaredField(&quot;name&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //name 在类中是private私有的，需要setAccessible(true)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        name.setAccessible(true);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//        name.set(o,&quot;巴巴托斯&quot;);      也可以如下一句：</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        name.set(null,&quot;巴巴托斯&quot;);        //因为name是静态static的，所以 o 也可以是null,   【注意】不是静态的的这么写会报错</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        System.out.println(o);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        System.out.println(name.get(o));  //获取属性值</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">class Student{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public int age;             //公共 age</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public static String name;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public Student(){   //构造器</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public String toString() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return &quot;Student{&quot; +</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;age=&quot; + age +</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;，name=&quot; + name +</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &#x27;}&#x27;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="53-操作方法">5.3 操作方法<a class="hash-link" href="#53-操作方法" title="标题的直接链接">​</a></h3><p>如何通过反射访问类中的成员</p><p>访问方法：</p><ol><li><p>根据方法名获取Method方法对象</p><p>​ <code>Method f = clazz 对象.getDeclaredMethod(方法名, XX.class)</code>  //得到本类所有方法</p></li><li><p>获取对象：<code>Object o = clazz.newInstance();</code></p></li><li><p>爆破：<code>m.setAccessible(true);     //m是Method</code></p></li><li><p>访问</p><p><code>Object returnValue = m.invoke(o,实参列表);</code></p></li><li><p>如果是静态属性，则invoke中的参数o，可以写成null</p></li></ol><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">package opp3;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import java.lang.reflect.Method;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * 演示反射调用发发</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class Demo08 {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public static void main(String[] args) throws Exception {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //1. 得到Boss 类对应Class对象</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Class&lt;?&gt; aClass = Class.forName(&quot;opp3.Boss&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //2. 创建对象</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Object o = aClass.newInstance();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //3. 调用public 的hi方法</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//        Method hi = aClass.getMethod(&quot;hi&quot;, String.class);              //getMethod() 获取公共方法，这里可行，但是私有方法不行不能用</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //得到hi方法</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Method hi1 = aClass.getDeclaredMethod(&quot;hi&quot;, String.class);      //getDeclaredMethod()  获得类的所有方法，这里也可行</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        hi1.invoke(o,&quot;香菱&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //4. 调用私有方法</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Method say = aClass.getDeclaredMethod(&quot;say&quot;, int.class, String.class, char.class);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        say.setAccessible(true);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        System.out.println(say.invoke(o,20,&quot;云堇&quot;,&#x27;女&#x27;));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //因为say方法是静态的，还可以这么写： o 写成null</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        System.out.println(say.invoke(null,17,&quot;胡桃&quot;,&#x27;女&#x27;));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //返回值：</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //5. 在反射中，如果方法有返回值，统一返回object,但是它运行类型和方法定义的返回类型一致</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Object invoke = say.invoke(null, 16, &quot;行秋&quot;, &#x27;男&#x27;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        System.out.println(&quot;invoke的运行类型：&quot; + invoke.getClass());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">class Boss{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public int age;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private static String name;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public Boss(){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private static  String say(int n, String s , char c){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return n+ &quot; &quot; + s + &quot; &quot; + c;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void hi(String s){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        System.out.println(&quot;hi &quot; + s);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="六作业">六、作业<a class="hash-link" href="#六作业" title="标题的直接链接">​</a></h2><p><img loading="lazy" src="https://img.up.cdn.nahida.cn/typora-user-images/image-20220811165706388.png" alt="image-20220811165706388" class="img_ev3q"></p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">package opp3.opp32;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import java.lang.reflect.Field;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import java.lang.reflect.Method;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class HomeWork {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public static void main(String[] args) throws Exception {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //1. 得到PrivateTest类对应的Class对象</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Class&lt;?&gt; cls = Class.forName(&quot;opp3.opp32.PrivateTest&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //2. 创建对象实例</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Object o = cls.newInstance();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //3. 得到name属性</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Field name = cls.getDeclaredField(&quot;name&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //4. 爆破</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        name.setAccessible(true);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        name.set(o,&quot;七七&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //5. 获得getName方法对象</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Method getName = cls.getDeclaredMethod(&quot;getName&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //6. 因为getName是公有的，所以直接输出</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Object invoke = getName.invoke(o);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        System.out.println(&quot;name的属性值：&quot; + invoke );</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">class PrivateTest{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private String name = &quot;HelloKitty&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public String getName(){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return name;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><img loading="lazy" src="https://img.up.cdn.nahida.cn/typora-user-images/image-20220811170953180.png" alt="image-20220811170953180" class="img_ev3q"></p><div class="language-Java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-Java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">package opp3.opp32;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import java.lang.reflect.Constructor;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import java.lang.reflect.Method;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class HomeWork02 {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public static void main(String[] args) throws Exception {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //1. 利用Class类的forName 得到File类的class对象</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Class&lt;?&gt; cls = Class.forName(&quot;java.io.File&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //2. 获得所有的构造器</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Constructor&lt;?&gt;[] declaredConstructors = cls.getDeclaredConstructors();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //遍历输出所有的的构造器</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        for (Constructor&lt;?&gt; declaredConstructor : declaredConstructors) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            System.out.println(&quot;File的构造器：&quot; + declaredConstructor);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //3. 单独的得到public java.io.File(java.lang.String)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Constructor&lt;?&gt; declaredConstructor = cls.getDeclaredConstructor(String.class);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        String filePath = &quot;e://mynew.txt&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Object file = declaredConstructor.newInstance(filePath);    //创建文件File对象</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //4. 调用createNewFile()方法，创建文件</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Method createNewFile = cls.getDeclaredMethod(&quot;createNewFile&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        createNewFile.invoke(file);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //file 的运行类型就是File</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        System.out.println(file.getClass());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        System.out.println(&quot;文件创建成功&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="文档分页导航"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/Java/annotations"><div class="pagination-nav__sublabel">上一页</div><div class="pagination-nav__label">Java的注解与反射</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/Java/thread"><div class="pagination-nav__sublabel">下一页</div><div class="pagination-nav__label">Java的线程基础</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#表示重要" class="table-of-contents__link toc-highlight">表示重要</a></li><li><a href="#一反射机制问题" class="table-of-contents__link toc-highlight">一、反射机制问题</a><ul><li><a href="#11-反射原理图" class="table-of-contents__link toc-highlight">1.1 反射原理图</a></li><li><a href="#12-反射相关的主要类" class="table-of-contents__link toc-highlight">1.2 反射相关的主要类</a></li><li><a href="#13-反射调用优化" class="table-of-contents__link toc-highlight">1.3 反射调用优化</a></li></ul></li><li><a href="#二class类" class="table-of-contents__link toc-highlight">二、Class类</a><ul><li><a href="#21-获取class对象的六种方法" class="table-of-contents__link toc-highlight">2.1 获取Class对象的六种方法</a></li><li><a href="#22-哪些类型有class对象" class="table-of-contents__link toc-highlight">2.2 哪些类型有Class对象</a></li></ul></li><li><a href="#三类加载" class="table-of-contents__link toc-highlight">三、类加载</a><ul><li><a href="#31-静态和动态加载" class="table-of-contents__link toc-highlight">3.1 静态和动态加载</a></li><li><a href="#32-类加载流程图" class="table-of-contents__link toc-highlight">3.2 类加载流程图</a></li><li><a href="#33-类加载的五个阶段" class="table-of-contents__link toc-highlight">3.3 类加载的五个阶段</a></li></ul></li><li><a href="#四-反射获取类的结构信息" class="table-of-contents__link toc-highlight">四、 反射获取类的结构信息</a><ul><li><a href="#41-第一组" class="table-of-contents__link toc-highlight">4.1 第一组</a></li><li><a href="#42-第二组" class="table-of-contents__link toc-highlight">4.2 第二组</a></li></ul></li><li><a href="#五反射爆破" class="table-of-contents__link toc-highlight">五、反射爆破</a><ul><li><a href="#51-创建实例" class="table-of-contents__link toc-highlight">5.1 创建实例</a></li><li><a href="#52-操作属性" class="table-of-contents__link toc-highlight">5.2 操作属性</a></li><li><a href="#53-操作方法" class="table-of-contents__link toc-highlight">5.3 操作方法</a></li></ul></li><li><a href="#六作业" class="table-of-contents__link toc-highlight">六、作业</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 胖螺 2020-2023 . <br>
                    <a href="https://www.nahida.cn/" target="_blank" style="color:#fff">纳西妲 世界第一可爱</a> <br>
                  <span style="text-align: center">  本网站由<a href="https://www.upyun.com/?utm_source=lianmeng&utm_medium=referral" target="_blank"><img src="https://img.up.cdn.nahida.cn/icon/upyun_logo5.png" width="53px" style="vertical-align: middle; display: inline-block;"></a>提供CDN加速/云存储服务</span>

        </div></div></div></footer></div>
<script src="/assets/js/runtime~main.b2abe4ed.js"></script>
<script src="/assets/js/main.cf17977a.js"></script>
</body>
</html>